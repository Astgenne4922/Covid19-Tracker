(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-580481aa"],{"1f29":function(e,t,n){"use strict";n("caad"),n("2532");var r=n("7a23"),a={class:"max-w-md m-auto"},c={class:"bg-white w-full py-3 px-2 max-h-72 overflow-y-auto absolute z-10 rounded-b-md shadow"},o={class:"absolute right-0 top-3 h-14 w-14 text-center text-blue-600 cursor-pointer text-2xl"};function s(e,t,n,s,i,u){var d=this;return Object(r["p"])(),Object(r["d"])("div",a,[Object(r["g"])("div",{onFocusin:t[4]||(t[4]=function(e){return i.selected=!0}),class:"bg-white w-full rounded-md relative shadow"},[Object(r["C"])(Object(r["g"])("input",{onKeypress:t[1]||(t[1]=Object(r["D"])((function(){return u.onSearch&&u.onSearch.apply(u,arguments)}),["enter"])),"onUpdate:modelValue":t[2]||(t[2]=function(e){return i.searched=e}),class:"h-14 w-full text-xl outline-none border-none focus:rounded-b-none rounded-md pr-16 pl-5 shadow-sm",type:"text",placeholder:n.placeholder},null,40,["placeholder"]),[[r["y"],i.searched]]),Object(r["C"])(Object(r["g"])("div",c,[(Object(r["p"])(!0),Object(r["d"])(r["a"],null,Object(r["t"])(n.suggestions,(function(e){return Object(r["C"])((Object(r["p"])(),Object(r["d"])("p",{onClick:function(){d.searched=e,d.selected=!1,d.onSearch()},key:e,class:"py-2 px-3 w-full text-xl cursor-default rounded-md hover:bg-gray-300"},Object(r["w"])(e),9,["onClick"])),[[r["z"],""!==i.searched&&e.toLowerCase().includes(i.searched.toLowerCase())]])})),128))],512),[[r["z"],i.selected&&""!==i.searched]]),Object(r["g"])("div",o,[Object(r["g"])("i",{onClick:t[3]||(t[3]=function(){return u.onSearch&&u.onSearch.apply(u,arguments)}),class:"fas fa-search"})])],32)])}var i={name:"SearchBox",props:{suggestions:Array,placeholder:String},data:function(){return{selected:!1,searched:""}},mounted:function(){document.addEventListener("click",this.onClickOut)},unmounted:function(){document.removeEventListener("click",this.onClickOut)},methods:{onClickOut:function(e){this.$el.contains(e.target)||(this.selected=!1)},onSearch:function(){this.$emit("search",this.searched),this.searched=""}}};i.render=s;t["a"]=i},2532:function(e,t,n){"use strict";var r=n("23e7"),a=n("5a34"),c=n("1d80"),o=n("ab13");r({target:"String",proto:!0,forced:!o("includes")},{includes:function(e){return!!~String(c(this)).indexOf(a(e),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,n){var r=n("861d"),a=n("c6b6"),c=n("b622"),o=c("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==a(e))}},"5a34":function(e,t,n){var r=n("44e7");e.exports=function(e){if(r(e))throw TypeError("The method doesn't accept regular expressions");return e}},"5e90":function(e,t,n){"use strict";n.r(t);var r=n("7a23"),a={class:"mt-8 text-center"},c={class:"text-4xl font-bold mb-8"};function o(e,t,n,o,s,i){var u=this,d=Object(r["u"])("SearchBox"),l=Object(r["u"])("DataGrid");return Object(r["p"])(),Object(r["d"])(r["a"],null,[Object(r["g"])(d,{onSearch:i.handleSearch,suggestions:s.regions,placeholder:"Inserisci una regione..."},null,8,["onSearch","suggestions"]),Object(r["g"])("div",a,[Object(r["g"])("h1",c,Object(r["w"])(s.reg),1),s.data?(Object(r["p"])(),Object(r["d"])("button",{key:0,onClick:t[1]||(t[1]=function(e){return u.$router.push({name:"Graph",params:{type:"regioni",target:s.reg}})}),class:"rounded block m-auto mb-8 bg-blue-600 p-4 text-3xl text-white focus:outline-none focus:border-transparent transform active:scale-95"}," Vai al Grafico ")):Object(r["e"])("",!0),s.data?(Object(r["p"])(),Object(r["d"])(l,{key:1,data:s.data,time:s.time},null,8,["data","time"])):Object(r["e"])("",!0)])],64)}var s=n("15fd"),i=n("1da1"),u=(n("96cf"),n("d3b7"),n("1f29")),d=n("f89a"),l={name:"Region",props:{region:String},components:{SearchBox:u["a"],DataGrid:d["a"]},data:function(){return{regions:[],reg:"Nessuna Regione Selezionata",time:null,data:null}},created:function(){var e=this;return Object(i["a"])(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,fetch("api/regioni");case 2:return n=t.sent,t.next=5,n.json();case 5:e.regions=t.sent,e.region&&e.handleSearch(e.region);case 7:case"end":return t.stop()}}),t)})))()},methods:{handleSearch:function(e){var t=this;return Object(i["a"])(regeneratorRuntime.mark((function n(){var r,a,c,o;return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:return n.next=2,fetch("api/regioni/latest/".concat(e));case 2:return r=n.sent,n.next=5,r.json();case 5:a=n.sent,a?(c=a.data,o=Object(s["a"])(a,["data"]),t.data=o,t.time=new Date(c),t.reg=e):(t.data=null,t.time=null,t.reg="Nessuna Regione Selezionata");case 7:case"end":return n.stop()}}),n)})))()}}};l.render=o;t["default"]=l},ab13:function(e,t,n){var r=n("b622"),a=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[a]=!1,"/./"[e](t)}catch(r){}}return!1}},caad:function(e,t,n){"use strict";var r=n("23e7"),a=n("4d64").includes,c=n("44d2");r({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),c("includes")}}]);
//# sourceMappingURL=chunk-580481aa.6702c489.js.map