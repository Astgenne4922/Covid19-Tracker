{"version":3,"sources":["webpack:///./src/components/SearchBox.vue","webpack:///./src/components/SearchBox.vue?f336","webpack:///./node_modules/core-js/modules/es.string.includes.js","webpack:///./node_modules/core-js/internals/is-regexp.js","webpack:///./node_modules/core-js/internals/not-a-regexp.js","webpack:///./src/views/Region.vue","webpack:///./src/views/Region.vue?0a5f","webpack:///./node_modules/core-js/internals/correct-is-regexp-logic.js","webpack:///./node_modules/core-js/modules/es.array.includes.js"],"names":["class","selected","onSearch","searched","type","placeholder","suggestions","s","key","toLowerCase","includes","name","props","Array","String","data","mounted","document","addEventListener","this","onClickOut","unmounted","removeEventListener","methods","event","$el","contains","target","$emit","render","$","notARegExp","requireObjectCoercible","correctIsRegExpLogic","proto","forced","searchString","indexOf","arguments","length","undefined","isObject","classof","wellKnownSymbol","MATCH","module","exports","it","isRegExp","TypeError","handleSearch","regions","reg","$router","push","time","region","components","SearchBox","DataGrid","created","fetch","req","json","value","newJson","Date","METHOD_NAME","regexp","error1","error2","$includes","addToUnscopables","el"],"mappings":"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","file":"js/chunk-580481aa.6702c489.js","sourcesContent":["<template>\r\n    <div class=\"max-w-md m-auto\">\r\n        <div @focusin=\"selected = true\" class=\"bg-white w-full rounded-md relative shadow\">\r\n            <input\r\n                @keypress.enter=\"onSearch\"\r\n                v-model=\"searched\"\r\n                class=\"h-14 w-full text-xl outline-none border-none focus:rounded-b-none rounded-md pr-16 pl-5 shadow-sm\"\r\n                type=\"text\"\r\n                :placeholder=\"placeholder\"\r\n            />\r\n            <div\r\n                v-show=\"selected && searched !== ''\"\r\n                class=\"bg-white w-full py-3 px-2 max-h-72 overflow-y-auto absolute z-10 rounded-b-md shadow\"\r\n            >\r\n                <p\r\n                    @click=\"\r\n                        () => {\r\n                            this.searched = s;\r\n                            this.selected = false;\r\n                            this.onSearch();\r\n                        }\r\n                    \"\r\n                    v-show=\"searched !== '' && s.toLowerCase().includes(searched.toLowerCase())\"\r\n                    v-for=\"s in suggestions\"\r\n                    :key=\"s\"\r\n                    class=\"py-2 px-3 w-full text-xl cursor-default rounded-md hover:bg-gray-300\"\r\n                >\r\n                    {{ s }}\r\n                </p>\r\n            </div>\r\n            <div class=\"absolute right-0 top-3 h-14 w-14 text-center text-blue-600 cursor-pointer text-2xl\">\r\n                <i @click=\"onSearch\" class=\"fas fa-search\"></i>\r\n            </div>\r\n        </div>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n    name: \"SearchBox\",\r\n    props: {\r\n        suggestions: Array,\r\n        placeholder: String,\r\n    },\r\n    data() {\r\n        return {\r\n            selected: false,\r\n            searched: \"\",\r\n        };\r\n    },\r\n    mounted() {\r\n        document.addEventListener(\"click\", this.onClickOut);\r\n    },\r\n    unmounted() {\r\n        document.removeEventListener(\"click\", this.onClickOut);\r\n    },\r\n    methods: {\r\n        onClickOut(event) {\r\n            if (!this.$el.contains(event.target)) this.selected = false;\r\n        },\r\n        onSearch() {\r\n            this.$emit(\"search\", this.searched);\r\n            this.searched = \"\";\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import { render } from \"./SearchBox.vue?vue&type=template&id=d398ba62\"\nimport script from \"./SearchBox.vue?vue&type=script&lang=js\"\nexport * from \"./SearchBox.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","'use strict';\nvar $ = require('../internals/export');\nvar notARegExp = require('../internals/not-a-regexp');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar correctIsRegExpLogic = require('../internals/correct-is-regexp-logic');\n\n// `String.prototype.includes` method\n// https://tc39.es/ecma262/#sec-string.prototype.includes\n$({ target: 'String', proto: true, forced: !correctIsRegExpLogic('includes') }, {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~String(requireObjectCoercible(this))\n      .indexOf(notARegExp(searchString), arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","var isObject = require('../internals/is-object');\nvar classof = require('../internals/classof-raw');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\n// `IsRegExp` abstract operation\n// https://tc39.es/ecma262/#sec-isregexp\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : classof(it) == 'RegExp');\n};\n","var isRegExp = require('../internals/is-regexp');\n\nmodule.exports = function (it) {\n  if (isRegExp(it)) {\n    throw TypeError(\"The method doesn't accept regular expressions\");\n  } return it;\n};\n","<template>\r\n    <SearchBox @search=\"handleSearch\" :suggestions=\"regions\" placeholder=\"Inserisci una regione...\" />\r\n\r\n    <div class=\"mt-8 text-center\">\r\n        <h1 class=\"text-4xl font-bold mb-8\">{{ reg }}</h1>\r\n        <button\r\n            v-if=\"data\"\r\n            @click=\"this.$router.push({ name: 'Graph', params: { type: 'regioni', target: reg } })\"\r\n            class=\"rounded block m-auto mb-8 bg-blue-600 p-4 text-3xl text-white focus:outline-none focus:border-transparent transform active:scale-95\"\r\n        >\r\n            Vai al Grafico\r\n        </button>\r\n        <DataGrid v-if=\"data\" :data=\"data\" :time=\"time\" />\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport SearchBox from \"@/components/SearchBox\";\r\nimport DataGrid from \"@/components/DataGrid\";\r\n\r\nexport default {\r\n    name: \"Region\",\r\n    props: {\r\n        region: String,\r\n    },\r\n    components: {\r\n        SearchBox,\r\n        DataGrid,\r\n    },\r\n    data() {\r\n        return {\r\n            regions: [],\r\n            reg: \"Nessuna Regione Selezionata\",\r\n            time: null,\r\n            data: null,\r\n        };\r\n    },\r\n    async created() {\r\n        const req = await fetch(\"api/regioni\");\r\n        this.regions = await req.json();\r\n        if (this.region) this.handleSearch(this.region);\r\n    },\r\n    methods: {\r\n        async handleSearch(value) {\r\n            const req = await fetch(`api/regioni/latest/${value}`);\r\n            const json = await req.json();\r\n\r\n            if (json) {\r\n                let { data, ...newJson } = json;\r\n                this.data = newJson;\r\n                this.time = new Date(data);\r\n                this.reg = value;\r\n            } else {\r\n                this.data = null;\r\n                this.time = null;\r\n                this.reg = \"Nessuna Regione Selezionata\";\r\n            }\r\n        },\r\n    },\r\n};\r\n</script>\r\n","import { render } from \"./Region.vue?vue&type=template&id=c24e847e\"\nimport script from \"./Region.vue?vue&type=script&lang=js\"\nexport * from \"./Region.vue?vue&type=script&lang=js\"\nscript.render = render\n\nexport default script","var wellKnownSymbol = require('../internals/well-known-symbol');\n\nvar MATCH = wellKnownSymbol('match');\n\nmodule.exports = function (METHOD_NAME) {\n  var regexp = /./;\n  try {\n    '/./'[METHOD_NAME](regexp);\n  } catch (error1) {\n    try {\n      regexp[MATCH] = false;\n      return '/./'[METHOD_NAME](regexp);\n    } catch (error2) { /* empty */ }\n  } return false;\n};\n","'use strict';\nvar $ = require('../internals/export');\nvar $includes = require('../internals/array-includes').includes;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\n// `Array.prototype.includes` method\n// https://tc39.es/ecma262/#sec-array.prototype.includes\n$({ target: 'Array', proto: true }, {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables('includes');\n"],"sourceRoot":""}